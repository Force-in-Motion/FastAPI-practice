–¢—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ —á—É–≤—Å—Ç–≤—É–µ—à—å, —á—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–Ω—è—Ç—å –æ—Ç–∫—É–¥–∞ –≤–æ–æ–±—â–µ –±–µ—Ä—ë—Ç—Å—è –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization —Å Base64(login:password) ‚Äî –≤–µ–¥—å —Å–µ—Ä–≤–µ—Ä –∂–µ –Ω–µ –º–æ–∂–µ—Ç —Å–∞–º –µ–≥–æ –ø—Ä–∏–¥—É–º–∞—Ç—å.
–†–∞–∑–±–µ—Ä—ë–º —ç—Ç–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ-—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏ –∏ –ø–æ—à–∞–≥–æ–≤–æ üëá

üß† 1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç Authorization: Basic ... –≤–æ–æ–±—â–µ

–≠—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ ‚Äî —á–∞—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ HTTP Basic Authentication.
–û–Ω –Ω–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º "—Å–∞–º –ø–æ —Å–µ–±–µ" ‚Äî –µ–≥–æ –¥–æ–ª–∂–µ–Ω –ª–∏–±–æ:

—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–∞–º –∫–ª–∏–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, curl, Postman, fetch-–∑–∞–ø—Ä–æ—Å, –∏ —Ç.–¥.),

–ª–∏–±–æ –±—Ä–∞—É–∑–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –ø–æ–ø—Ä–æ—Å–∏—Ç ¬´–≤–≤–µ–¥–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å¬ª —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ WWW-Authenticate.

üß© 2. –î–≤–∞ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è
‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 1: –ö–ª–∏–µ–Ω—Ç (–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç) —Å–∞–º –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫

–ï—Å–ª–∏ —Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å –∑–∞–ø—Ä–æ—Å –≤—Ä—É—á–Ω—É—é ‚Äî –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ curl, Postman, JavaScript, Python ‚Äî —Ç—ã —Å–∞–º —É–∫–∞–∑—ã–≤–∞–µ—à—å –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å, –∏ –∫–ª–∏–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç —ç—Ç–æ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫.

üîπ –ü—Ä–∏–º–µ—Ä —á–µ—Ä–µ–∑ curl:
curl -u alice:s3cr3t http://127.0.0.1:8000/auth/login


–§–ª–∞–≥ -u –¥–µ–ª–∞–µ—Ç —Å–ª–µ–¥—É—é—â–µ–µ:

–±–µ—Ä—ë—Ç alice:s3cr3t

–∫–æ–¥–∏—Ä—É–µ—Ç —ç—Ç–æ –≤ Base64 ‚Üí YWxpY2U6czNjcjN0

–¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫:

Authorization: Basic YWxpY2U6czNjcjN0

üîπ –ü—Ä–∏–º–µ—Ä —á–µ—Ä–µ–∑ JavaScript fetch:
const username = "alice";
const password = "s3cr3t";
const headers = new Headers();
headers.set(
  "Authorization",
  "Basic " + btoa(`${username}:${password}`)
);

fetch("http://127.0.0.1:8000/auth/login", { headers });


–¢–æ –µ—Å—Ç—å –∫–ª–∏–µ–Ω—Ç (–∫–æ–¥ –∏–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç) —Å–∞–º –∫–æ–¥–∏—Ä—É–µ—Ç –∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫.

‚úÖ –í–∞—Ä–∏–∞–Ω—Ç 2: –ë—Ä–∞—É–∑–µ—Ä –¥–µ–ª–∞–µ—Ç —ç—Ç–æ —Å–∞–º, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—Ä–æ—Å–∏–ª –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å

–≠—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ–¥–æ–º 401 –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫:

WWW-Authenticate: Basic


–¢–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞, –≤—Ä–æ–¥–µ:

üîí –í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É —Å–∞–π—Ç—É

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –∏ –Ω–∞–∂–∏–º–∞–µ—Ç OK ‚Äî
–±—Ä–∞—É–∑–µ—Ä —Å–∞–º –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization: Basic ... –≤–æ –≤—Å–µ –¥–∞–ª—å–Ω–µ–π—à–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∫ —ç—Ç–æ–º—É URL, –ø–æ–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç–∞.

üìò –ü—Ä–∏–º–µ—Ä –ø–æ—Ç–æ–∫–∞:

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ /auth/login

–°–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç:

HTTP/1.1 401 Unauthorized
WWW-Authenticate: Basic realm="Secure Area"


–ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–∫–Ω–æ –≤–≤–æ–¥–∞ –ª–æ–≥–∏–Ω–∞/–ø–∞—Ä–æ–ª—è.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ ‚Üí –±—Ä–∞—É–∑–µ—Ä —à–ª—ë—Ç –Ω–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å —Å:

Authorization: Basic YWxpY2U6czNjcjN0


–ò FastAPI, –∏—Å–ø–æ–ª—å–∑—É—è HTTPBasic(), —ç—Ç–æ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.

üß± 3. –ê –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ HTML —Å –ø–æ–ª—è–º–∏ ‚Äú–ª–æ–≥–∏–Ω / –ø–∞—Ä–æ–ª—å‚Äù?

–ï—Å–ª–∏ —Ç—ã –¥–µ–ª–∞–µ—à—å —Å–≤–æ—é —Ñ–æ—Ä–º—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, <form> —Å username –∏ password), —Ç–æ —ç—Ç–æ —É–∂–µ –Ω–µ HTTP Basic, –∞ —Å–≤–æ—è –ª–æ–≥–∏–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (—á–µ—Ä–µ–∑ POST –∏ application/x-www-form-urlencoded –∏–ª–∏ JSON).
–¢–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –∏–¥—É—Ç –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:

POST /login HTTP/1.1
Content-Type: application/json

{"username": "alice", "password": "s3cr3t"}


‚û°Ô∏è –¢–∞–∫–æ–π –∑–∞–ø—Ä–æ—Å –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Authorization, –µ—Å–ª–∏ —Ç—ã —Å–∞–º –µ–≥–æ –Ω–µ –¥–æ–±–∞–≤–∏—à—å.
–≠—Ç–æ —É–∂–µ –¥—Ä—É–≥–æ–π –ø–æ–¥—Ö–æ–¥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚Äú–ª–æ–≥–∏–Ω —á–µ—Ä–µ–∑ JWT —Ç–æ–∫–µ–Ω‚Äù).

üìú 4. –°–≤–æ–¥–∏–º –≤—Å—ë –≤–º–µ—Å—Ç–µ
–ö–∞–∫ –≤–≤–æ–¥—è—Ç—Å—è –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å	–ö–∞–∫ —Å–æ–∑–¥–∞—ë—Ç—Å—è Authorization	–¢–∏–ø –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞	–ë—Ä–∞—É–∑–µ—Ä –¥–æ–±–∞–≤–ª—è–µ—Ç Authorization: Basic ...	HTTP Basic
–°–∫—Ä–∏–ø—Ç / curl -u / Postman	–ö–ª–∏–µ–Ω—Ç —Å–∞–º –∫–æ–¥–∏—Ä—É–µ—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫	HTTP Basic
HTML-—Ñ–æ—Ä–º–∞ <form>	–î–∞–Ω–Ω—ã–µ –∏–¥—É—Ç –≤ body (POST), –∑–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è	–°–≤–æ—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–Ω–µ Basic)
üß© 5. –ü–æ—ç—Ç–æ–º—É:

üî∏ –û—Ç–≤–µ—Ç –Ω–∞ —Ç–≤–æ–π –≤–æ–ø—Ä–æ—Å:

–î–∞–Ω–Ω—ã–µ –Ω–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ —Ñ–æ—Ä–º—ã.

–û–Ω–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ HTTP, –∫–æ—Ç–æ—Ä—ã–π –ª–∏–±–æ:

–±—Ä–∞—É–∑–µ—Ä —Å–∞–º –¥–æ–±–∞–≤–∏–ª –ø–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞ WWW-Authenticate,

–ª–∏–±–æ —Ç—ã (–∏–ª–∏ —Ç–≤–æ–π –∫–æ–¥) —Å–∞–º —É–∫–∞–∑–∞–ª –ø—Ä–∏ –≤—ã–∑–æ–≤–µ –∑–∞–ø—Ä–æ—Å–∞.